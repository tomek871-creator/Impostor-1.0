<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Impostor</title>
  <style>
    body { background:#000; color:#fff; font-family:Arial; text-align:center; margin-top:30px; }
    input,button { margin:4px; padding:8px; background:#111; color:#fff; border:1px solid #333; border-radius:6px; }
    .players { display:flex; flex-wrap:wrap; justify-content:center; gap:6px; margin-top:10px; }
    .player { background:#111; padding:6px 10px; border-radius:6px; }
    .word { color:#0f0; font-size:20px; font-weight:bold; }
    .impostor { color:#f00; font-size:20px; font-weight:bold; }
    a { color:#0af; }
  </style>
</head>
<body>
{% if page == "index" %}
  <h1>Gra: Impostor</h1>
  <p>3–8 graczy. Impostor dostaje s³owo <b>"impostor"</b>.</p>

  <form action="/create" method="post">
    <input name="name" placeholder="Twój nick" required>
    <input name="code" placeholder="Kod (opcjonalnie)">
    <button>Utwórz pokój</button>
  </form>

  <form action="/room" method="post">
    <input name="name" placeholder="Twój nick" required>
    <input name="room" placeholder="Kod pokoju" required>
    <button>Do³¹cz</button>
  </form>

{% elif page == "lobby" %}
  <h2>Pokój {{ code }}</h2>
  <p>Liczba graczy: {{ players|length }}</p>
  <div class="players">
  {% for p in players %}
    <div class="player">{{ p.name }}</div>
  {% endfor %}
  </div>

  {% if is_host %}
    <form action="/start/{{ code }}" method="post"><button>Start</button></form>
    <form action="/playagain/{{ code }}" method="post"><button>Zagraj ponownie</button></form>
  {% endif %}
  <br><a href="/">WyjdŸ</a>

{% elif page == "game" %}
  {% if impostor %}
    <p class="impostor">Jesteœ IMPOSTOREM! Twoje s³owo: impostor</p>
  {% else %}
    <p class="word">Twoje s³owo: {{ word }}</p>
  {% endif %}
  <a href="/">Powrót</a>

{% elif page == "error" %}
  <h2>B³¹d</h2>
  <p>{{ message }}</p>
  <a href="/">Powrót</a>
{% endif %}
</body>
</html>
